{% extends 'views/admin.html' %}

{% block content %}

{% for mesg in get_flashed_messages() %}
<div class="alert alert-danger alert-dismissible fade show" role="alert">
    {{ mesg }}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endfor %}


<div class="card">
    <img class="card-img-top" src="https://joeschmoe.io/api/v1/male/{{ user.name }}" alt="Avatar" width="150"
        height="150">
    <div class="card-body">
        <h4 class="card-title">{{ user.name }}</h4>
        <p class="card-text">Correo: <strong>{{ user.email }}</strong></p>
        <p class="card-text">Rol: <strong>{{ user.role }}</strong></p>
    </div>
</div>

<!-- Button trigger modal -->
<button type="button" class="btn btn-warning btn-sm mt-5" data-bs-toggle="modal" data-bs-target="#editUser">
    Editar usuario <i class="fa fa-edit" aria-hidden="true"></i>
</button>

<!-- Modal para crear-->
<div class="modal fade" id="editUser" tabindex="-1" role="dialog" aria-labelledby="modelTitleId" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Modal title</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    Add rows here
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save</button>
            </div>
        </div>
    </div>
</div>

{% endblock %}


{% block scripts %}
<script>
    var editUser = document.getElementById('editUser');

    editUser.addEventListener('show.bs.modal', function (event) {
        // Button that triggered the modal
        let button = event.relatedTarget;
        // Extract info from data-bs-* attributes
        let recipient = button.getAttribute('data-bs-whatever');

        // Use above variables to manipulate the DOM
    });
</script>

{% endblock %}